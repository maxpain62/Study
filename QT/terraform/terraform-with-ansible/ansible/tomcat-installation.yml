---
- name: install tomcat
  hosts: all
  become: true
  tasks:
    - name: install java
      ansible.builtin.apt:
        name: openjdk-11-jdk
        state: latest
        update_cache: true
    - name: download and unarchieve tomcat file
      ansible.builtin.unarchive: 
        src: https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.71/bin/apache-tomcat-9.0.71.tar.gz
        dest: /opt/tomcat/
        remote_src: yes
    - name: create link for tomcat
      ansible.builtin.file:
        src: /opt/tomcat/apache-tomcat-9.0.71
        dest: /opt/tomcat/latest
        state: link